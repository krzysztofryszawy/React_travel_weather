(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports={container:"Tutorial_container__3X3KM",step1:"Tutorial_step1__1MgeC",step2:"Tutorial_step2__19oZF"}},11:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__qLdDx",background:"Backdrop_background__2mI3h",inputBox:"Backdrop_inputBox__Zy_1G"}},2:function(e,t,a){e.exports={SingleCityForecast:"SingleCityForecast_SingleCityForecast__Ib_kZ",singleCityCountry:"SingleCityForecast_singleCityCountry__3QZwc",singleDate:"SingleCityForecast_singleDate__i32xu",singleTemperature:"SingleCityForecast_singleTemperature__1uLWc",singleConditionID:"SingleCityForecast_singleConditionID__3HnZG",colored:"SingleCityForecast_colored__1GSYU"}},21:function(e,t,a){e.exports={App:"App_App__1iSIK"}},22:function(e,t,a){e.exports={MainContainer:"MainContainer_MainContainer__1-exa"}},23:function(e,t,a){e.exports={Loader:"Spinner_Loader__3Ena4",load1:"Spinner_load1__2ArVX"}},24:function(e,t,a){e.exports={HeaderInfo:"HeaderInfo_HeaderInfo__3xWq6"}},25:function(e,t,a){e.exports=a(61)},30:function(e,t,a){},37:function(e,t,a){e.exports=a.p+"static/media/tutorial_1.57ce3984.png"},38:function(e,t,a){e.exports=a.p+"static/media/tutorial_2.98219f71.png"},4:function(e,t,a){e.exports={CumulativeForecast:"CumulativeForecast_CumulativeForecast__29mU0",confirmCityButton:"CumulativeForecast_confirmCityButton__1BLoh",inputContent:"CumulativeForecast_inputContent__3uK-d",clearButton:"CumulativeForecast_clearButton__w9jib"}},61:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(20),r=a.n(o),c=(a(30),a(5)),l=a(6),s=a(8),u=a(7),d=a(9),m=a(21),p=a.n(m),f=a(22),h=a.n(f),y=a(3),g=a(4),C=a.n(g),S=a(2),_=a.n(S),b=function(e){var t=null;return e.conditionID>=200&&(t="\ud83c\udf29 \u26c8 Thunderstorm"),e.conditionID>=300&&(t="\ud83c\udf26 Drizzle"),e.conditionID>=500&&(t="\ud83c\udf27 Rain"),e.conditionID>=600&&(t="\ud83c\udf28 Snow"),e.conditionID>=700&&(t="\ud83c\udf2b Atmosphere"),800==e.conditionID&&(t="\u2600 Clear"),e.conditionID>800&&(t="\u2601 Clouds"),i.a.createElement("div",{className:e.color?_.a.SingleCityForecast:[_.a.SingleCityForecast,_.a.colored].join(" "),onClick:function(){return e.getActualClickedDataHandler(e.dt,e.singleCityName,e.databaseName)}},i.a.createElement("div",{className:_.a.singleCityCountry},e.singleCityCountry,": ",e.singleCityName),i.a.createElement("div",{className:_.a.singleDate},"\ud83d\udcc6",e.dayOfWeek," \ud83d\udd59",e.dt_txt.substr(5,11)),i.a.createElement("div",{className:_.a.singleTemperature},"\ud83c\udf21temp ",Math.ceil(e.temperature),"\xb0C"),i.a.createElement("div",{className:_.a.singleConditionID},t))},D=a(10),v=a.n(D),E=(a(37),a(38),function(e){return i.a.createElement("div",{onClick:function(){return e.closeTutorial()},className:v.a.container},i.a.createElement("h2",null,"PLEASE READ THIS SHORT TUTORIAL \ud83d\udc47"),i.a.createElement("h4",null,"When preparing to trip ",i.a.createElement("span",null,"\u2708"),", find on main list desirable date and time when you will arrive to destination city. Then click \u2714 on it, and TravelWeatherApp will ask you for the City name."),i.a.createElement("p",null,"Dialog box as below \u2b07 will apear."),i.a.createElement("div",{className:v.a.step1}),i.a.createElement("h4",null,"This date will be stored as date of your arrival to choosen city, and until then you will see forecast \u26c5 \u2602 \u2603 \ud83c\udf1e \ud83c\udf2a for this choosen city. "),i.a.createElement("p",null,"You can easy see it on list \u2b07 below."),i.a.createElement("div",{className:v.a.step2}),i.a.createElement("h4",null,"Now is the time \ud83c\udf88 , when you can set the next destinations \ud83c\udff0\ud83d\uddfc\ud83d\uddfd of your trip!. It is just easy as before: choose date and time, click to set arrival time and voilla!"),i.a.createElement("h2",null,"\ud83d\udc47 MOST IMPORTANT \ud83d\udc47"),i.a.createElement("h3",null,"Now TravelWeatherApp will remember, when you want arrive to all your trip destinations \ud83e\udd42. When you will open App again, TravelWeatherApp will show you newest forecast \ud83c\udf21 for those destinations. Always accurate, always current. \ud83c\udf1e"),i.a.createElement("h3",null,"Enjoy you trip! \ud83e\udd1e Don't Let the Weather Take You by Surprise!"),i.a.createElement("p",null,"(click to close \u274c)"))}),N=a(23),k=a.n(N),w=function(){return i.a.createElement("div",null,i.a.createElement("h2",null," BE PATIENT "),i.a.createElement("h1",null," \u26c5 \u2602 \ud83c\udf1e "),i.a.createElement("h2",null,"LOADING..."),i.a.createElement("div",{className:k.a.Loader}))},I=a(11),T=a.n(I),O=function(e){return i.a.createElement("div",{className:T.a.Backdrop,style:{display:e.show?"inherit":"none"}},i.a.createElement("div",{className:T.a.background,onClick:e.click}),i.a.createElement("div",{className:T.a.inputBox},e.children))},x=a(13),A=a.n(x),L=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={loading:!0,backdrop:!1,cityName:"krakow",listOfDatabaseNames:[],indexCities:0,colored:!1,watchedTutorial:!1},a.saveStateToLocalstorage=function(){var e={listOfDatabaseNames:a.state.listOfDatabaseNames,indexCities:a.state.indexCities,watchedTutorial:a.state.watchedTutorial};localStorage.setItem("StateInsideStorage",JSON.stringify(e))},a.loadStateFromLocalstorage=function(){var e=localStorage.getItem("StateInsideStorage"),t=JSON.parse(e);a.setState({listOfDatabaseNames:t.listOfDatabaseNames,watchedTutorial:t.watchedTutorial},function(){return a.setStateFromLocalstorage()})},a.setStateFromLocalstorage=function(){a.state.listOfDatabaseNames.map(function(e){a.getInitialCityDatabase(e.cityName,e.databaseName).then(function(){return a.setState({loading:!1})})})},a.convertDataToDay=function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(1e3*e).getDay()]},a.getActualClickedDataHandler=function(e,t,n){a.setState({clickedCityData:e,clickedCityName:t.toLowerCase(),clickedDatabaseName:n}),a.showBackdrop()},a.hideBackdrop=function(){a.setState({backdrop:!1})},a.showBackdrop=function(){a.setState({backdrop:!0})},a.changeInputState=function(e){a.setState({tempCityName:e.target.value})},a.acceptInputState=function(){var e=a.state.listOfDatabaseNames.filter(function(e){if(e.startDate<a.state.clickedCityData)return e.startDate<a.state.clickedCityData});a.setState({listOfDatabaseNames:e}),a.setState({cityName:a.state.tempCityName,backdrop:!1},function(){return a.getSingleCityDatabase(a.state.cityName).then(function(){a.saveStateToLocalstorage(),a.setState({loading:!1})})})},a.resetLocalstorage=function(){localStorage.clear("StateInsideStorage")},a.closeTutorialHandler=function(){a.setState({watchedTutorial:!0})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("StateInsideStorage")?(this.loadStateFromLocalstorage(),console.log("available data in LocalStorage")):this.getSingleCityDatabase(this.state.cityName).then(function(){return e.setState({loading:!1})})}},{key:"componentDidUpdate",value:function(){}},{key:"getSingleCityDatabase",value:function(e){var t=this;this.setState({loading:!0});var a="https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&units=metric&APPID=c13044a1ca13fe20adb4a879f7eeed40"),n="".concat(e).concat(this.state.indexCities);return new Promise(function(i,o){A.a.get(a).then(function(a){var o,r={cityName:e,databaseName:n+"Database",startDate:t.state.clickedCityData,endDate:192e7,colored:t.state.colored};void 0==r.startDate&&(r.startDate=Math.round(Date.now()/1e3)),t.state.listOfDatabaseNames.push(r),t.state.listOfDatabaseNames.map(function(e){return e.databaseName==t.state.clickedDatabaseName&&(e.endDate=t.state.clickedCityData),e}),t.setState((o={},Object(y.a)(o,n+"Database",a.data),Object(y.a)(o,"indexCities",t.state.indexCities+1),Object(y.a)(o,"colored",!t.state.colored),o),function(){return i()})}).catch(function(e){o(e),console.log(e)})})}},{key:"getInitialCityDatabase",value:function(e,t){var a=this;this.setState({loading:!0});var n="http://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&units=metric&APPID=c13044a1ca13fe20adb4a879f7eeed40");return new Promise(function(e,i){A.a.get(n).then(function(n){var i;a.setState((i={},Object(y.a)(i,t,n.data),Object(y.a)(i,"indexCities",a.state.indexCities+1),Object(y.a)(i,"colored",!a.state.colored),i),function(){return e()})}).catch(function(e){i(e),console.log(e)})})}},{key:"render",value:function(){var e=this,t=i.a.createElement("div",{className:C.a.inputContent},i.a.createElement("label",null,"CITY NAME: "),i.a.createElement("input",{name:"cityNameInput",type:"text",onChange:this.changeInputState}),i.a.createElement("button",{className:C.a.confirmCityButton,onClick:this.acceptInputState},"ADD CITY \ud83c\udf0d "));if(this.state.loading)return i.a.createElement(w,null);if(!this.state.listOfDatabaseNames.map(function(e){return e.databaseName}).map(function(t){if(e.state[t])return t}).every(function(e){return e}))return i.a.createElement(w,null);var a=i.a.createElement(E,{closeTutorial:this.closeTutorialHandler}),n=this.state.listOfDatabaseNames.map(function(t){var a=e.state[t.databaseName];return a.list.filter(function(e){return e.dt>=t.startDate&&e.dt<t.endDate}).map(function(n,o){return i.a.createElement(b,{key:n.dt+a.city.name,databaseName:t.databaseName,dt:n.dt,dt_txt:n.dt_txt,dayOfWeek:e.convertDataToDay(n.dt),temperature:n.main.temp,temperature_max:n.main.temp_max,temperature_min:n.main.temp_min,conditionID:n.weather[0].id,singleCityName:a.city.name,singleCityCountry:a.city.country,getActualClickedDataHandler:e.getActualClickedDataHandler,color:!t.colored})})});return i.a.createElement("div",{className:C.a.CumulativeForecast},i.a.createElement(O,{show:this.state.backdrop,click:this.hideBackdrop,changeInputState:this.changeInputState},t),this.state.watchedTutorial?n:a,localStorage.getItem("StateInsideStorage")?i.a.createElement("button",{className:C.a.clearButton,onClick:this.resetLocalstorage}," \u26a0\ufe0f CLEAR LOCALSTORAGE"):null)}}]),t}(n.Component),B=function(){return i.a.createElement("div",{className:h.a.MainContainer},i.a.createElement(L,null))},F=a(24),j=a.n(F),W=function(e){return i.a.createElement("div",{className:j.a.HeaderInfo},i.a.createElement("div",{style:{fontSize:"1.3em"}}," \u26c5 TRAVEL WEATHER ",i.a.createElement("span",{style:{fontSize:".3em"}},"alpha \u2615")," "),i.a.createElement("div",{style:{fontSize:".5em"}},"Don't Let the Weather Take You by Surprise! \ud83d\udcbc"))},H=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(e){return i.a.createElement("div",{className:p.a.App},i.a.createElement(W,null),i.a.createElement(B,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.07b2a9e0.chunk.js.map